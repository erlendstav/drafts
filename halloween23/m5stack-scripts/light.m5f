{"components":[],"type":"atom","versions":"Beta","units":[{"id":"1TLYldOZ8p4r+3Ng","createTime":1698343534875,"stickType":"stick","type":"light","name":"light_0","port":"A","default":["A","Custom"],"user_port":["21","22"],"icon":"light.png","url":"https://docs.m5stack.com/en/unit/light"}],"hats":[],"stamps":[],"blockly":"<variables><variable id=\"+z_YQr?F,On_8OQEO*?A\">range_low</variable><variable id=\"$T842}lu[=k!dw-L]F!x\">range_high</variable><variable id=\"H+]-/-FAckfJeD-6-)=0\">trigger_pause</variable><variable id=\"K^tKaUU]+AsQO_*gDzi#\">crvalue</variable></variables><block type=\"basic_on_setup\" id=\"setup_block\" deletable=\"false\" x=\"102\" y=\"121\"><next><block type=\"rgb_set_all\" id=\"UL!^/XuX!t.w}x!Z;~K7\"><field name=\"COLOR\">#33ff33</field><next><block type=\"variables_set\" id=\"SIBOCbBYKoB54JN6qqyd\"><field name=\"VAR\" id=\"K^tKaUU]+AsQO_*gDzi#\">crvalue</field><value name=\"VALUE\"><block type=\"math_number\" id=\"ff8I|A+6b?^lz(+]Ir73\"><field name=\"NUM\">0</field></block></value><next><block type=\"variables_set\" id=\"(u5n+h=0KFd_,zUE-z@H\"><field name=\"VAR\" id=\"+z_YQr?F,On_8OQEO*?A\">range_low</field><value name=\"VALUE\"><block type=\"math_number\" id=\"W?!@wImI`%LqTmv-+8|{\"><field name=\"NUM\">100</field></block></value><next><block type=\"variables_set\" id=\"exqryiQ|+5pdFuhOOYEi\"><field name=\"VAR\" id=\"$T842}lu[=k!dw-L]F!x\">range_high</field><value name=\"VALUE\"><block type=\"math_number\" id=\",`e_18Los8c[MilFgzq~\"><field name=\"NUM\">250</field></block></value><next><block type=\"variables_set\" id=\"KH]|BWB1-rp(03RLTYa!\"><field name=\"VAR\" id=\"H+]-/-FAckfJeD-6-)=0\">trigger_pause</field><value name=\"VALUE\"><block type=\"math_number\" id=\"9Xi]QeONbAyHZhyTF48G\"><field name=\"NUM\">5</field></block></value><next><block type=\"mqtt_set_client\" id=\"Z4FsXYN_5S/Yf@Hd:cbE\"><value name=\"ID\"><shadow type=\"text\" id=\";)4X;_3gMfN_BU=jgBpD\"><field name=\"TEXT\">lightsensor</field></shadow></value><value name=\"SERVER\"><shadow type=\"text\" id=\"~VCe76c`Xlm:;Elg{8z:\"><field name=\"TEXT\">192.168.0.100</field></shadow></value><value name=\"PORT\"><shadow type=\"math_number\" id=\"by`t%Z30eju(H77^h^)Q\"><field name=\"NUM\">1883</field></shadow></value><value name=\"USER\"><shadow type=\"text\" id=\"w*d3A(]a2-LD*DVT(OAz\"><field name=\"TEXT\"></field></shadow></value><value name=\"PASSWORD\"><shadow type=\"text_password\" id=\"gH}D`BqHMs:n;BQVy^K0\"><field name=\"TEXT\"></field></shadow></value><value name=\"KEEPALIVE\"><shadow type=\"math_slider\" id=\"o]p{K}o[-NyyZPXJ;Iob\"><field name=\"NUM\" max=\"65536\" step=\"1\">300</field></shadow></value><next><block type=\"mqtt_start\" id=\"!1%+bcC-V_~yrnA3ZhSJ\"><next><block type=\"rgb_set_all\" id=\"*IQn79|MAYkC-GJ^~B/B\"><field name=\"COLOR\">#000000</field><next><block type=\"basic_on_loop\" id=\"G}dCe5Wf|5_#PUty*9`5\"><statement name=\"LOOP\"><block type=\"variables_set\" id=\"~$jM8-uycTli];B?HcYc\"><field name=\"VAR\" id=\"K^tKaUU]+AsQO_*gDzi#\">crvalue</field><value name=\"VALUE\"><block type=\"light_a_read\" id=\"}_C{mWfFHV;%Ew0[:]^/\"><field name=\"VARNAME\">light_0</field></block></value><next><block type=\"controls_if\" id=\"jtuXIhGY0V[VdE8zx`TA\"><value name=\"IF0\"><block type=\"logic_operation\" id=\"yQzFhP-rCw)MxR=5G0wc\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"logic_compare\" id=\"p106wAx|z~F~Fd[-T9iE\"><field name=\"OP\">GTE</field><value name=\"A\"><block type=\"variables_get\" id=\"=onH7.EZ$C943XR0HE5Z\"><field name=\"VAR\" id=\"K^tKaUU]+AsQO_*gDzi#\">crvalue</field></block></value><value name=\"B\"><block type=\"variables_get\" id=\"9Oq^H~jK:q#9qWU.H{Cq\"><field name=\"VAR\" id=\"+z_YQr?F,On_8OQEO*?A\">range_low</field></block></value></block></value><value name=\"B\"><block type=\"logic_compare\" id=\"{z=VMC(A.bY!xe_4ivny\"><field name=\"OP\">LTE</field><value name=\"A\"><block type=\"variables_get\" id=\"KF2F2#0BwgZ.vH21!~4Y\"><field name=\"VAR\" id=\"K^tKaUU]+AsQO_*gDzi#\">crvalue</field></block></value><value name=\"B\"><block type=\"variables_get\" id=\"_7OuR)%55rnlI}0DcX~|\"><field name=\"VAR\" id=\"$T842}lu[=k!dw-L]F!x\">range_high</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"mqtt_publish\" id=\";,f3)#xPf[%w#GEc6#-4\"><value name=\"FROM\"><shadow type=\"text\" id=\"Ec|JpgKGn:!,:.8)XduI\"><field name=\"TEXT\">garage/light/triggered</field></shadow></value><value name=\"MSG\"><shadow type=\"text\" id=\"(}pB]h|_6by_|y5f~THf\"><field name=\"TEXT\"></field></shadow></value><value name=\"qos\"><shadow type=\"math_slider\" id=\"0FGYM](z6r[3LcwW=F$k\"><field name=\"NUM\" max=\"2\" step=\"1\">0</field></shadow></value><next><block type=\"rgb_set_all\" id=\"!b*^!@ggIqB+x@b~_Bfo\"><field name=\"COLOR\">#33ff33</field><next><block type=\"timer_delay\" id=\"6]4@0Z]qfu$kh@wWtI#N\"><value name=\"DELAY\"><shadow type=\"math_number\" disabled=\"true\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\" id=\"IM^TvLc(vx*K16S%{tPY\"><field name=\"VAR\" id=\"H+]-/-FAckfJeD-6-)=0\">trigger_pause</field></block></value><next><block type=\"rgb_set_all\" id=\"kPF1`+(/Px}j8pGk[n..\"><field name=\"COLOR\">#000000</field></block></next></block></next></block></next></block></statement><next><block type=\"timer_delay_ms\" id=\"4o[8E`m.cavV,Bq|vSPe\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"EsRs{H)#T6?J+Dan=5PC\"><field name=\"NUM\">50</field></shadow></value></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block><block type=\"mqtt_sub\" id=\"ZE;;_59U%!@8yL#dEp83\" x=\"870\" y=\"310\"><value name=\"FROM\"><shadow type=\"text\" id=\"p8ljR_y}YzxSmo?,uRq@\"><field name=\"TEXT\">garage/light/range/low</field></shadow></value><statement name=\"FUNC\"><block type=\"variables_set\" id=\"=@~ALbO.}${{?.Aa+3QB\"><field name=\"VAR\" id=\"+z_YQr?F,On_8OQEO*?A\">range_low</field><value name=\"VALUE\"><block type=\"convent_int\" id=\"+H*lFWI:*$@P}i%b_D_)\"><value name=\"VALUE\"><block type=\"mqtt_get_topic_data\" id=\"G]Z,J2vbXv$y!q^VKqye\"></block></value></block></value></block></statement></block><block type=\"mqtt_sub\" id=\"ruKP!{[O=vZci$,rED#X\" x=\"870\" y=\"490\"><value name=\"FROM\"><shadow type=\"text\" id=\"!f(9Lcf1cWXUpz;vNhSQ\"><field name=\"TEXT\">garage/light/range/high</field></shadow></value><statement name=\"FUNC\"><block type=\"variables_set\" id=\"N9nGM}.aiog@FJ!x:AFl\"><field name=\"VAR\" id=\"$T842}lu[=k!dw-L]F!x\">range_high</field><value name=\"VALUE\"><block type=\"convent_int\" id=\":-*#bMz2R%e~;uv^_Mya\"><value name=\"VALUE\"><block type=\"mqtt_get_topic_data\" id=\"#QiOYLt$9whxaocdbJ-g\"></block></value></block></value></block></statement></block><block type=\"mqtt_sub\" id=\"Q_dx/{jNhmJr~tP@mPV?\" x=\"870\" y=\"630\"><value name=\"FROM\"><shadow type=\"text\" id=\"}lj1@;e]mx[Jx:Ur9.;B\"><field name=\"TEXT\">garage/light/pause</field></shadow></value><statement name=\"FUNC\"><block type=\"variables_set\" id=\"{%CkvA|WI^WW-h[J=Ct^\"><field name=\"VAR\" id=\"H+]-/-FAckfJeD-6-)=0\">trigger_pause</field><value name=\"VALUE\"><block type=\"convent_int\" id=\"}(yMVd!`aeOWOYiFfI``\"><value name=\"VALUE\"><block type=\"mqtt_get_topic_data\" id=\"VyFs{)[Ax*;^lP9fwil!\"></block></value></block></value></block></statement></block><block type=\"button_callback\" id=\"a?J`;;9$v6[w]RnnnBz8\" x=\"50\" y=\"1070\"><field name=\"BUTTON\">A</field><field name=\"EVENT\">wasPressed</field><statement name=\"FUNC\"><block type=\"mqtt_publish\" id=\"sjSD2k=0/3Jv=5AO)U!a\"><value name=\"FROM\"><shadow type=\"text\" id=\"yw786t]T!/-9e0|QM}e5\"><field name=\"TEXT\">garage/light/triggered</field></shadow></value><value name=\"MSG\"><shadow type=\"text\" id=\"#lW`g_quUiIZ8.XZn,q|\"><field name=\"TEXT\"></field></shadow></value><value name=\"qos\"><shadow type=\"math_slider\" id=\"fFixu;v3C||f{ctuk7%3\"><field name=\"NUM\" max=\"2\" step=\"1\">0</field></shadow></value><next><block type=\"rgb_set_all\" id=\"hI%90cG11D||]UWl2%sg\"><field name=\"COLOR\">#33ff33</field></block></next></block></statement></block><block type=\"button_callback\" id=\")ApwWUrR/f1dHv#Svq.5\" x=\"50\" y=\"1290\"><field name=\"BUTTON\">A</field><field name=\"EVENT\">wasReleased</field><statement name=\"FUNC\"><block type=\"rgb_set_all\" id=\"o{+lG(cCk6w1$GI~#X}7\"><field name=\"COLOR\">#000000</field></block></statement></block>","Blockly.Remotes":[],"Blockly.RemotePlus":[{"id":"__title","blockId":"","createTime":1698341978746,"name":"M5RemoteTitle","dragAndDrop":false,"resizable":false,"options":{"minWidth":1,"minHeight":1,"maxWidth":6,"maxHeight":10,"defaultWidth":2,"defaultHeight":1},"w":2,"h":1,"bgColor":"#0080FF","color":"#fff","fontsize":"M","label":"M5Remote","interval":3000,"code":"","event":"","dataSource":"none","ezdataToken":"weOd2kWm1l4aFhDBTtu3BzGhSzoBRnxB","topic":"","needShadow":false,"type":"title","x":0,"y":0}],"modules":["rgb","imu"],"cbIdList_":[],"eventCBIdList_":[],"apikey":"5651887D","uuid":"bb0b46bd-1676-4af9-bc67-032641e5a50a"}