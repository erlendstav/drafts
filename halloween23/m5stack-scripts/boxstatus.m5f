{"components":[{"id":"____screen","createTime":1692652639019,"name":"screen","x":0,"y":0,"width":320,"height":240,"backgroundColor":"#222222","backgroundImage":"","size":0,"screenType":"default","type":"screen"}],"type":"atom","versions":"Beta","units":[{"id":"iCgW16BlW+V@e8h!","createTime":1692905154088,"stickType":"stick","type":"light","name":"light_0","port":"A","default":["A","Custom"],"user_port":["21","22"],"icon":"light.png","url":"https://docs.m5stack.com/en/unit/light"}],"hats":[],"stamps":[],"blockly":"<variables><variable id=\"K^tKaUU]+AsQO_*gDzi#\">crvalue</variable><variable id=\"nl{B=pEn@{p(UKfxp|j)\">crstate</variable><variable id=\"T?zc@;{xrrf[cmPS1Vay\">prevstate</variable><variable id=\"ZMM}?Vk=n3QNZUSVcRXa\">lastsent</variable></variables><block type=\"basic_on_setup\" id=\"setup_block\" deletable=\"false\" x=\"50\" y=\"50\"><next><block type=\"variables_set\" id=\"bV]Ha87=A::rYlwK,mxB\"><field name=\"VAR\" id=\"nl{B=pEn@{p(UKfxp|j)\">crstate</field><value name=\"VALUE\"><block type=\"text\" id=\"q=aN6Z#vs8Y5#QV3s+0y\"><field name=\"TEXT\">none</field></block></value><next><block type=\"variables_set\" id=\"V,A%~J3ZpLJilqa%em$o\"><field name=\"VAR\" id=\"T?zc@;{xrrf[cmPS1Vay\">prevstate</field><value name=\"VALUE\"><block type=\"text\" id=\"?-02@FGr?u:=O79%aq6r\"><field name=\"TEXT\">none</field></block></value><next><block type=\"variables_set\" id=\".Yl~QnGyttL18Sz87ap#\"><field name=\"VAR\" id=\"ZMM}?Vk=n3QNZUSVcRXa\">lastsent</field><value name=\"VALUE\"><block type=\"text\" id=\"~r:tp(Pb#}}WQL}zVCuw\"><field name=\"TEXT\">none</field></block></value><next><block type=\"rgb_set_all\" id=\"smmvET4pIQ3+1[#-]Vw+\"><field name=\"COLOR\">#ff0000</field><next><block type=\"mqtt_set_client\" id=\"Z4FsXYN_5S/Yf@Hd:cbE\"><value name=\"ID\"><shadow type=\"text\" id=\";)4X;_3gMfN_BU=jgBpD\"><field name=\"TEXT\">box</field></shadow></value><value name=\"SERVER\"><shadow type=\"text\" id=\"~VCe76c`Xlm:;Elg{8z:\"><field name=\"TEXT\">192.168.0.100</field></shadow></value><value name=\"PORT\"><shadow type=\"math_number\" id=\"by`t%Z30eju(H77^h^)Q\"><field name=\"NUM\">1883</field></shadow></value><value name=\"USER\"><shadow type=\"text\" id=\"w*d3A(]a2-LD*DVT(OAz\"><field name=\"TEXT\"></field></shadow></value><value name=\"PASSWORD\"><shadow type=\"text_password\" id=\"gH}D`BqHMs:n;BQVy^K0\"><field name=\"TEXT\"></field></shadow></value><value name=\"KEEPALIVE\"><shadow type=\"math_slider\" id=\"o]p{K}o[-NyyZPXJ;Iob\"><field name=\"NUM\" max=\"65536\" step=\"1\">300</field></shadow></value><next><block type=\"mqtt_start\" id=\"!1%+bcC-V_~yrnA3ZhSJ\"><next><block type=\"timer_setStart\" id=\"MLydhW(^4N#_TYuM]-#=\"><field name=\"start_name\">timer1</field><field name=\"mode\">0x00</field><value name=\"period\"><shadow type=\"math_number\" id=\"S.poNBm(OgH%-Nv.NanD\"><field name=\"NUM\">500</field></shadow></value><next><block type=\"rgb_set_all\" id=\"~9j{6-Q3IlJ1K#4}ZZ!#\"><field name=\"COLOR\">#33ff33</field></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block><block type=\"timer_callback\" id=\"#|IXCdB;VER@VknY3%82\" x=\"50\" y=\"570\"><field name=\"name\">timer1</field><statement name=\"FUNC\"><block type=\"variables_set\" id=\"{9ktB-I}g7TE=H0}+fP7\"><field name=\"VAR\" id=\"K^tKaUU]+AsQO_*gDzi#\">crvalue</field><value name=\"VALUE\"><block type=\"light_a_read\" id=\"N1VW#)O**HwQPbPYQ.-P\"><field name=\"VARNAME\">light_0</field></block></value><next><block type=\"controls_if\" id=\"qXL.k18E+UX2%{[nZQ/@\"><mutation elseif=\"1\" else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"N0*qlR%mZ~Eatm+V%SMs\"><field name=\"OP\">LT</field><value name=\"A\"><block type=\"variables_get\" id=\"G]*Ntk}a@=0KmPYww3_v\"><field name=\"VAR\" id=\"K^tKaUU]+AsQO_*gDzi#\">crvalue</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"v;A2VDGD9.p#vV2irj2L\"><field name=\"NUM\">100</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\":3lP;JFQOvB)=(7ZkBa3\"><field name=\"VAR\" id=\"nl{B=pEn@{p(UKfxp|j)\">crstate</field><value name=\"VALUE\"><block type=\"text\" id=\":x#dAsyC1EA6dEHZ{F|H\"><field name=\"TEXT\">low</field></block></value></block></statement><value name=\"IF1\"><block type=\"logic_compare\" id=\"s9)3cF-JS,w,bC,/QaDh\"><field name=\"OP\">GT</field><value name=\"A\"><block type=\"variables_get\" id=\"cEYPn^TXsBtBCI6vd1;%\"><field name=\"VAR\" id=\"K^tKaUU]+AsQO_*gDzi#\">crvalue</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"BM0-L_R,S#?}5oS+T5ZQ\"><field name=\"NUM\">250</field></block></value></block></value><statement name=\"DO1\"><block type=\"variables_set\" id=\"G[k,p;i;f=,1,P,|*i91\"><field name=\"VAR\" id=\"nl{B=pEn@{p(UKfxp|j)\">crstate</field><value name=\"VALUE\"><block type=\"text\" id=\"_j,4q*ic,o=nJ0xL*D9x\"><field name=\"TEXT\">high</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"variables_set\" id=\"55;ZVS-RJ2H6H/GSHgCi\"><field name=\"VAR\" id=\"nl{B=pEn@{p(UKfxp|j)\">crstate</field><value name=\"VALUE\"><block type=\"text\" id=\"ew~rK]Mf5vpf5!eSmV:`\"><field name=\"TEXT\">ok</field></block></value></block></statement><next><block type=\"controls_if\" id=\"BPTKN_PT]d0[]69V?a,X\"><value name=\"IF0\"><block type=\"logic_compare\" id=\":!FU-0ow5)|o/zU?6S*f\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"r?.Z0-hU)BGSqR/3:m,7\"><field name=\"VAR\" id=\"nl{B=pEn@{p(UKfxp|j)\">crstate</field></block></value><value name=\"B\"><block type=\"variables_get\" id=\"8oM,Szn]0}=;8Uz4NTB1\"><field name=\"VAR\" id=\"T?zc@;{xrrf[cmPS1Vay\">prevstate</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\" id=\"^0^DM6#86EVY:4645:{G\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"s5Ts|x3J^Ga7rn]s0{`0\"><field name=\"OP\">NEQ</field><value name=\"A\"><block type=\"variables_get\" id=\"%K%3Ed;WMI3D{iCq;3JW\"><field name=\"VAR\" id=\"nl{B=pEn@{p(UKfxp|j)\">crstate</field></block></value><value name=\"B\"><block type=\"variables_get\" id=\"qh,bE**x_Yv[D7p2jfG]\"><field name=\"VAR\" id=\"ZMM}?Vk=n3QNZUSVcRXa\">lastsent</field></block></value></block></value><statement name=\"DO0\"><block type=\"mqtt_publish\" id=\"]6T5|m]4Cnny6X,|jupu\"><value name=\"FROM\"><shadow type=\"text\" id=\"g%9vnvn%awlg95V.K@{b\"><field name=\"TEXT\">sensor/light</field></shadow></value><value name=\"MSG\"><shadow type=\"text\" id=\"IIMRt5_$CcVooPo%)k}6\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" id=\"]y)BKd!zP^sQX)Z+Cd$3\"><field name=\"VAR\" id=\"nl{B=pEn@{p(UKfxp|j)\">crstate</field></block></value><value name=\"qos\"><shadow type=\"math_slider\" id=\"KjTiaB)vQ$j]rSV]0s1?\"><field name=\"NUM\" max=\"2\" step=\"1\">0</field></shadow></value><next><block type=\"variables_set\" id=\"L~:$zW@ES^4eCf(@{N!_\"><field name=\"VAR\" id=\"ZMM}?Vk=n3QNZUSVcRXa\">lastsent</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"(M9}FZNm;k!aFkz?cIm,\"><field name=\"VAR\" id=\"nl{B=pEn@{p(UKfxp|j)\">crstate</field></block></value></block></next></block></statement></block></statement><next><block type=\"variables_set\" id=\"gv+.j,0cV^gPcVrnh?6B\"><field name=\"VAR\" id=\"T?zc@;{xrrf[cmPS1Vay\">prevstate</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"PkNogT7X3O~VNB8X)Wj~\"><field name=\"VAR\" id=\"nl{B=pEn@{p(UKfxp|j)\">crstate</field></block></value></block></next></block></next></block></next></block></statement></block>","Blockly.Remotes":[],"Blockly.RemotePlus":[{"id":"__title","blockId":"","createTime":1692905154088,"name":"M5RemoteTitle","dragAndDrop":false,"resizable":false,"options":{"minWidth":1,"minHeight":1,"maxWidth":6,"maxHeight":10,"defaultWidth":2,"defaultHeight":1},"w":2,"h":1,"bgColor":"#0080FF","color":"#fff","fontsize":"M","label":"M5Remote","interval":3000,"code":"","event":"","dataSource":"none","ezdataToken":"weOd2kWm1l4aFhDBTtu3BzGhSzoBRnxB","topic":"","needShadow":false,"type":"title","x":0,"y":0}],"modules":["rgb"],"cbIdList_":[],"eventCBIdList_":[],"apikey":"5651887D","uuid":"bb0b46bd-1676-4af9-bc67-032641e5a50a"}